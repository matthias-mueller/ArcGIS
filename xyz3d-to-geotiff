import arcpy, os

arcpy.CheckOutExtension("3D")

suffix = 'tif'
projection = arcpy.SpatialReference(31469) # "DHDN_3_Degree_Gauss_Zone_5"

for fn in os.listdir('.'):
  if os.path.isfile(fn) & fn.endswith('.xyz'):
    print (fn)
    
    # arcpy requires absolute pathnames to work properly
    xyz = os.path.abspath(fn)
    print (xyz)
    shape_name = str(xyz[:-4])+".shp"
    raster_name = str(xyz[:-4])+"."+str(suffix)
    arcpy.ASCII3DToFeatureClass_3d(xyz,"XYZ",shape_name,"POINT","1",projection,"1","","DECIMAL_POINT")
    print (shape_name)	
    arcpy.PointToRaster_conversion(shape_name, "Shape.Z", raster_name, "MEAN", "NONE", "2")
    print (raster_name)
    arcpy.management.Delete(shape_name)
